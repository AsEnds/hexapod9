# 程序整体逻辑

本仓库实现了一个简易的六足机器人控制框架，入口位于 `main.py`。程序启动后
会创建控制线程和手柄线程，通过队列完成指令传递。各模块职责简要说明如下。

## Controller.py
主控制器，负责解析队列中的命令并驱动步态生成逻辑。
- 根据 `auto`、`manual` 等模式切换不同的控制策略。
- 对外暴露 `Controller.run()` 供主线程或子线程调用。

## Hexapod.py
封装步态算法和机器人运动学。
- `GaitPrg` 根据速度计算每条腿的轨迹并发送到舵机。
- 可在配置文件中调整步幅、周期等参数。

## joystick_callbacks.py
手柄事件回调集合。
- 按键或摇杆动作会转成指令字典放入队列。
- 支持切换模式和执行预设动作组。

## Joystick.py
对 `pygame` 手柄接口的一层封装。
- 负责初始化设备并注册 `joystick_callbacks` 中的事件处理函数。
- 将事件统一为字典格式，方便控制器解析。

## main.py
程序入口，负责启动各类线程。
- 预加载配置与动作组。
- 创建并启动 `Controller` 和 `Joystick`。
- 主线程保持循环直到收到退出信号。
